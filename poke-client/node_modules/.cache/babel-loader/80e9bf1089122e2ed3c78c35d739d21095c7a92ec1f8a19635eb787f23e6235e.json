{"ast":null,"code":"export const changeName = evt => {\n  const match = pokemonPicks.filter(poke => poke.pokemonId === parseInt(evt.target.id));\n  if (pokeUserObject.id === match[0].userId && match[0].pokemonId === parseInt(evt.target.id)) {\n    match.nickName = evt.target.value;\n    fetch(`http://localhost:8088/pokemonPicks/${match[0].id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(match)\n    }).then(() => {\n      const promises = [];\n      fetch(`http://localhost:8088/pokemonPicks?userId=${pokeUserObject.id}`).then(res => res.json()).then(data => {\n        setPokemonPicks(data);\n        data.map(pick => {\n          const url = `https://pokeapi.co/api/v2/pokemon/${pick.pokemonId}`;\n          promises.push(fetch(url).then(res => res.json()));\n        });\n        Promise.all(promises).then(results => {\n          const pokemonList = results.map(result => ({\n            name: result.name,\n            image: result.sprites['front_default'],\n            type: result.types.map(type => type.type.name).join(', '),\n            id: result.id\n          }));\n          setPokemon(pokemonList);\n        });\n      });\n    });\n  }\n};","map":{"version":3,"names":["changeName","evt","match","pokemonPicks","filter","poke","pokemonId","parseInt","target","id","pokeUserObject","userId","nickName","value","fetch","method","headers","body","JSON","stringify","then","promises","res","json","data","setPokemonPicks","map","pick","url","push","Promise","all","results","pokemonList","result","name","image","sprites","type","types","join","setPokemon"],"sources":["/Users/kaciwooldridge/workspace/poke-capstone/src/components/profile/ChangeName.js"],"sourcesContent":["export const changeName = (evt) =>{\n    const match = pokemonPicks.filter(poke => poke.pokemonId===parseInt(evt.target.id))\n    if(pokeUserObject.id===match[0].userId && match[0].pokemonId===parseInt(evt.target.id)){\n        match.nickName = evt.target.value\n        fetch(`http://localhost:8088/pokemonPicks/${match[0].id}`,{\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(match)\n        })\n        .then(() =>{\n            const promises = []\n            fetch(`http://localhost:8088/pokemonPicks?userId=${pokeUserObject.id}`)\n            .then(res => res.json())\n            .then ((data) =>{\n                setPokemonPicks(data)\n                data.map(pick => {\n                    const url = `https://pokeapi.co/api/v2/pokemon/${pick.pokemonId}`;\n                    promises.push(fetch(url)\n                    .then((res) => res.json()));\n                })\n                Promise.all(promises)\n                    .then((results) => {\n                        const pokemonList = results.map((result) => ({\n                            name: result.name,\n                            image: result.sprites['front_default'],\n                            type: result.types.map((type) => type.type.name).join(', '),\n                            id: result.id\n                        }));\n                        setPokemon(pokemonList)\n                    })\n            })\n        })\n    }\n}"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAIC,GAAG,IAAI;EAC9B,MAAMC,KAAK,GAAGC,YAAY,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,SAAS,KAAGC,QAAQ,CAACN,GAAG,CAACO,MAAM,CAACC,EAAE,CAAC,CAAC;EACnF,IAAGC,cAAc,CAACD,EAAE,KAAGP,KAAK,CAAC,CAAC,CAAC,CAACS,MAAM,IAAIT,KAAK,CAAC,CAAC,CAAC,CAACI,SAAS,KAAGC,QAAQ,CAACN,GAAG,CAACO,MAAM,CAACC,EAAE,CAAC,EAAC;IACnFP,KAAK,CAACU,QAAQ,GAAGX,GAAG,CAACO,MAAM,CAACK,KAAK;IACjCC,KAAK,CAAE,sCAAqCZ,KAAK,CAAC,CAAC,CAAC,CAACO,EAAG,EAAC,EAAC;MACtDM,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACjB,KAAK;IAC9B,CAAC,CAAC,CACDkB,IAAI,CAAC,MAAK;MACP,MAAMC,QAAQ,GAAG,EAAE;MACnBP,KAAK,CAAE,6CAA4CJ,cAAc,CAACD,EAAG,EAAC,CAAC,CACtEW,IAAI,CAACE,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBH,IAAI,CAAGI,IAAI,IAAI;QACZC,eAAe,CAACD,IAAI,CAAC;QACrBA,IAAI,CAACE,GAAG,CAACC,IAAI,IAAI;UACb,MAAMC,GAAG,GAAI,qCAAoCD,IAAI,CAACrB,SAAU,EAAC;UACjEe,QAAQ,CAACQ,IAAI,CAACf,KAAK,CAACc,GAAG,CAAC,CACvBR,IAAI,CAAEE,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CAAC;QAC/B,CAAC,CAAC;QACFO,OAAO,CAACC,GAAG,CAACV,QAAQ,CAAC,CAChBD,IAAI,CAAEY,OAAO,IAAK;UACf,MAAMC,WAAW,GAAGD,OAAO,CAACN,GAAG,CAAEQ,MAAM,KAAM;YACzCC,IAAI,EAAED,MAAM,CAACC,IAAI;YACjBC,KAAK,EAAEF,MAAM,CAACG,OAAO,CAAC,eAAe,CAAC;YACtCC,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACb,GAAG,CAAEY,IAAI,IAAKA,IAAI,CAACA,IAAI,CAACH,IAAI,CAAC,CAACK,IAAI,CAAC,IAAI,CAAC;YAC3D/B,EAAE,EAAEyB,MAAM,CAACzB;UACf,CAAC,CAAC,CAAC;UACHgC,UAAU,CAACR,WAAW,CAAC;QAC3B,CAAC,CAAC;MACV,CAAC,CAAC;IACN,CAAC,CAAC;EACN;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}